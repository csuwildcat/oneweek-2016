<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Stub Demo - X-Tag</title>

    <link rel="stylesheet" type="text/css" href="x-tag-components.css"/>
    <link rel="stylesheet" type="text/css" href="../src/modal.css"/>

    <script type="text/javascript" src="x-tag-components.js"></script>
    <script type="text/javascript" src="../src/modal.js"></script>

  <style>

	#wrap {
	background: #ddd;
		padding: 20px;
		height: 100px;
		margin: 0;
	}

    x-modal{
        background-color: white;
		border: 1px solid rgba(0,0,0,0.5);
        border-radius: 8px;
        padding: 12px;
    }

  </style>
</head>

<body tabindex="0">

  <div id="wrap" tabindex="1">
	<button data-action-type="openModal1">Open Modal 1</button>
	<button data-action-type="openModal2">Open Modal 2</button>
  </div>
  <x-modal id="modal_demo1" hidden overlay hide-triggers="tap esc" transition>
    <p>
      All the railway lines north of the Thames and the South-Eastern people at Cannon Street had been warned by midnight on Sunday, and trains were being filled.
      People were fighting savagely for standing-room in the carriages even at two o'clock.  By three, people were being trampled and crushed even in Bishopsgate Street,
      a couple of hundred yards or more from Liverpool Street station; revolvers were fired, people stabbed, and the policemen who had been sent to direct the traffic,
      exhausted and infuriated, were breaking the heads of the people they were called out to protect.
    </p>

    <p>
      And as the day advanced and the engine drivers and stokers refused to return to London, the pressure of the flight drove the people in an ever-thickening multitude
      away from the stations and along the northward-running roads.  By midday a Martian had been seen at Barnes, and a cloud of slowly sinking black vapour drove along
      the Thames and across the flats of Lambeth, cutting off all escape over the bridges in its sluggish advance.  Another bank drove over Ealing, and surrounded a little
      island of survivors on Castle Hill, alive, but unable to escape.
    </p>
    <div>
      <button data-action-type="toggleOverlay1">Toggle Overlay</button>
      <button data-action-type="closeModal1">Close</button>
    </div>
  </x-modal>

  <x-modal id="modal_demo2" overlay hidden hide-triggers="tap esc">
    <p>
      All the railway lines north of the Thames and the South-Eastern people at Cannon Street had been warned by midnight on Sunday, and trains were being filled.
      People were fighting savagely for standing-room in the carriages even at two o'clock.  By three, people were being trampled and crushed even in Bishopsgate Street,
      a couple of hundred yards or more from Liverpool Street station; revolvers were fired, people stabbed, and the policemen who had been sent to direct the traffic,
      exhausted and infuriated, were breaking the heads of the people they were called out to protect.
    </p>

    <p>
      And as the day advanced and the engine drivers and stokers refused to return to London, the pressure of the flight drove the people in an ever-thickening multitude
      away from the stations and along the northward-running roads.  By midday a Martian had been seen at Barnes, and a cloud of slowly sinking black vapour drove along
      the Thames and across the flats of Lambeth, cutting off all escape over the bridges in its sluggish advance.  Another bank drove over Ealing, and surrounded a little
      island of survivors on Castle Hill, alive, but unable to escape.
    </p>
    <div>
      <button data-action-type="toggleOverlay2">Toggle Overlay</button>
      <button data-action-type="closeModal2">Close</button>
    </div>
  </x-modal>
</body>

<script type="text/javascript">

  var modal1 = document.getElementById('modal_demo1');
  var modal2 = document.getElementById('modal_demo2');

  xtag.addEvent(document, 'click:delegate(button)', function(e){

    switch(e.target.getAttribute('data-action-type')){
      case 'toggleOverlay1':
        modal1[(modal1.getAttribute('overlay') != null? 'remove' : 'set') + 'Attribute']('overlay', null);
        break;
      case 'closeModal1':
        modal1.hide();
        break;
      case 'openModal1':
        modal1.show();
        break;

      case 'toggleOverlay2':
        modal2[(modal2.getAttribute('overlay') != null? 'remove' : 'set') + 'Attribute']('overlay', null);
        break;
      case 'closeModal2':
        modal2.hide();
        break;
      case 'openModal2':
        modal2.show();
        break;
    }
  });

</script>

</html>
